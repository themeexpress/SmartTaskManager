
# 基本設計書(テーブル)




# テーブル一覧

| # | 物理名          | 用途                |
| - | ------------ | ----------------- |
| 1 | projectsテーブル | プロジェクト情報を管理するテーブル |
| 2 | usersテーブル    | ユーザー情報を管理するテーブル   |
| 3 | tasksテーブル    | タスク情報を管理するテーブル    |




  

# projectテーブル# 

| No | カラム名        | データ型        | NULL許可   | 主キー         | 説明        | Extra                                   |
| -- | ----------- | ----------- | -------- | ----------- | --------- | --------------------------------------- |
| 1  | id          | SERIAL      | NOT NULL | PRIMARY KEY | プロジェクトID  |                                         |
| 2  | name        | VARCHAR     | NOT NULL |             | プロジェクト名   | UNIQUE / indexed                        |
| 3  | description | TEXT        | NULL     |             | 説明        |                                         |
| 4  | owner_id    | INTEGER     | NULL     |             | 作成者ユーザーID | REFERENCES users(id) ON DELETE SET NULL |
| 5  | created_at  | timestamptz | NOT NULL |             | 作成日時      | DEFAULT now()                           |
| 6  | updated_at  | timestamptz | NOT NULL |             | 更新日時      | DEF                                     |



# users テーブル仕様書
| No | カラム名       | データ型           | NULL許可   | 主キー | 説明                 | Extra                 |
| -- | ---------- | -------------- | -------- | --- | ------------------ | --------------------- |
| 1  | id         | SERIAL         | NOT NULL | PK  | ユーザーID（自動採番）       | PRIMARY KEY           |
| 2  | username   | VARCHAR        | NOT NULL |     | ユーザー名（ユニーク）        | UNIQUE, indexed       |
| 3  | email      | VARCHAR        | NOT NULL |     | メールアドレス（ユニーク）      | UNIQUE, indexed       |
| 4  | password   | VARCHAR        | NOT NULL |     | ハッシュ化したパスワード       | store hashed password |
| 5  | role       | ENUM(userrole) | NOT NULL |     | ユーザー権限（admin/user） | DEFAULT 'user'        |
| 6  | is_active  | BOOLEAN        | NOT NULL |     | アクティブ状態フラグ         | DEFAULT true          |
| 7  | created_at | timestamptz    | NOT NULL |     | レコード作成日時           | DEFAULT now()         |
| 8  | updated_at | timestamptz    | NOT NULL |     | レコード更新日時           | DEFAULT now()         |




# tasks テーブル

| No | カラム名        | データ型              | NULL許可 | 主キー | 説明                                      | Extra |
|----|-----------------|-----------------------|----------|--------|-------------------------------------------|--------|
| 1  | id              | SERIAL                | NOT NULL | PK     |                                           |        |
| 2  | title           | VARCHAR               | NOT NULL |        |                                           |        |
| 3  | description     | TEXT                  | NULL     |        |                                           |        |
| 4  | parent_id       | INTEGER               | NULL     |        | REFERENCES tasks(id) ON DELETE SET NULL   |        |
| 5  | project_id      | INTEGER               | NOT NULL |        | REFERENCES projects(id) ON DELETE SET NULL|        |
| 6  | assignee_id     | INTEGER               | NULL     |        | REFERENCES users(id) ON DELETE SET NULL   |        |
| 7  | created_by      | INTEGER               | NULL     |        | REFERENCES users(id) NOT NULL             |        |
| 8  | expected_hours  | FLOAT                 | NULL     |        |                                           |        |
| 9  | actual_hours    | FLOAT                 | NULL     |        |                                           |        |
| 10 | priority        | ENUM taskpriority     | NOT NULL |        | DEFAULT 'low'                             |        |
| 11 | status          | ENUM taskstatus       | NOT NULL |        | DEFAULT 'todo'                            |        |
| 12 | due_date        | DATE                  | NULL     |        |                                           |        |
| 13 | created_at      | timestamptz           | NOT NULL |        | DEFAULT now()                             |        |
| 14 | updated_at      | timestamptz           | NOT NULL |        | DEFAULT now()                             |        |


